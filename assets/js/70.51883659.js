(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{416:function(a,t,s){"use strict";s.r(t);var e=s(9),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"iptables-应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iptables-应用"}},[a._v("#")]),a._v(" Iptables 应用")]),a._v(" "),t("blockquote",[t("p",[t("em",[a._v("iptables")]),a._v(" 是一个配置 Linux 内核 "),t("a",{attrs:{href:"https://wiki.archlinux.org/index.php/Firewall",target:"_blank",rel:"noopener noreferrer"}},[a._v("防火墙"),t("OutboundLink")],1),a._v(" 的命令行工具，是 "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Netfilter",target:"_blank",rel:"noopener noreferrer"}},[a._v("netfilter"),t("OutboundLink")],1),a._v(" 项目的一部分。 可以直接配置，也可以通过许多前端和图形界面配置。")]),a._v(" "),t("p",[a._v("iptables 也经常代指该内核级防火墙。iptables 用于 "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ipv4",target:"_blank",rel:"noopener noreferrer"}},[a._v("ipv4"),t("OutboundLink")],1),a._v("，"),t("em",[a._v("ip6tables")]),a._v(" 用于 "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ipv6",target:"_blank",rel:"noopener noreferrer"}},[a._v("ipv6"),t("OutboundLink")],1),a._v("。")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://wiki.archlinux.org/index.php/Nftables",target:"_blank",rel:"noopener noreferrer"}},[a._v("nftables"),t("OutboundLink")],1),a._v(" 已经包含在 "),t("a",{attrs:{href:"http://www.phoronix.com/scan.php?page=news_item&px=MTQ5MDU",target:"_blank",rel:"noopener noreferrer"}},[a._v("Linux kernel 3.13"),t("OutboundLink")],1),a._v(" 中，以后会取代 iptables 成为主要的 Linux 防火墙工具。")]),a._v(" "),t("p",[a._v("环境：CentOS7")])]),a._v(" "),t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[a._v("#")]),a._v(" 1. 简介")]),a._v(" "),t("p",[t("strong",[a._v("iptables 可以检测、修改、转发、重定向和丢弃 IPv4 数据包")]),a._v("。")]),a._v(" "),t("p",[a._v("过滤 IPv4 数据包的代码已经内置于内核中，并且按照不同的目的被组织成 "),t("strong",[a._v("表")]),a._v(" 的集合。"),t("strong",[a._v("表")]),a._v(" 由一组预先定义的 "),t("strong",[a._v("链")]),a._v(" 组成，"),t("strong",[a._v("链")]),a._v("包含遍历顺序规则。每一条规则包含一个谓词的潜在匹配和相应的动作（称为 "),t("strong",[a._v("目标")]),a._v("），如果谓词为真，该动作会被执行。也就是说条件匹配。")]),a._v(" "),t("h2",{attrs:{id:"_2-安装-iptables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-iptables"}},[a._v("#")]),a._v(" 2. 安装 iptables")]),a._v(" "),t("p",[a._v("（1）禁用 firewalld")]),a._v(" "),t("p",[a._v("CentOS 7 上默认安装了 firewalld 作为防火墙，使用 iptables 建议关闭并禁用 firewalld。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl stop firewalld\nsystemctl disable firewalld\n")])])]),t("p",[a._v("（2）安装 iptables")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum install -y iptables-services\n")])])]),t("p",[a._v("（3）服务管理")]),a._v(" "),t("ul",[t("li",[a._v("查看服务状态："),t("code",[a._v("systemctl status iptables")])]),a._v(" "),t("li",[a._v("启用服务："),t("code",[a._v("systemctl enable iptables")])]),a._v(" "),t("li",[a._v("禁用服务："),t("code",[a._v("systemctl disable iptables")])]),a._v(" "),t("li",[a._v("启动服务："),t("code",[a._v("systemctl start iptables")])]),a._v(" "),t("li",[a._v("重启服务："),t("code",[a._v("systemctl restart iptables")])]),a._v(" "),t("li",[a._v("关闭服务: "),t("code",[a._v("systemctl stop iptables")])])]),a._v(" "),t("h2",{attrs:{id:"_3-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-命令"}},[a._v("#")]),a._v(" 3. 命令")]),a._v(" "),t("p",[a._v("基本语法：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("iptables(选项)(参数)\n")])])]),t("p",[a._v("基本选项说明：")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("参数")]),a._v(" "),t("th",[a._v("作用")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("-P")]),a._v(" "),t("td",[a._v("设置默认策略:iptables -P INPUT (DROP")])]),a._v(" "),t("tr",[t("td",[a._v("-F")]),a._v(" "),t("td",[a._v("清空规则链")])]),a._v(" "),t("tr",[t("td",[a._v("-L")]),a._v(" "),t("td",[a._v("查看规则链")])]),a._v(" "),t("tr",[t("td",[a._v("-A")]),a._v(" "),t("td",[a._v("在规则链的末尾加入新规则")])]),a._v(" "),t("tr",[t("td",[a._v("-I")]),a._v(" "),t("td",[a._v("num 在规则链的头部加入新规则")])]),a._v(" "),t("tr",[t("td",[a._v("-D")]),a._v(" "),t("td",[a._v("num 删除某一条规则")])]),a._v(" "),t("tr",[t("td",[a._v("-s")]),a._v(" "),t("td",[a._v('匹配来源地址 IP/MASK，加叹号"!"表示除这个 IP 外。')])]),a._v(" "),t("tr",[t("td",[a._v("-d")]),a._v(" "),t("td",[a._v("匹配目标地址")])]),a._v(" "),t("tr",[t("td",[a._v("-i")]),a._v(" "),t("td",[a._v("网卡名称 匹配从这块网卡流入的数据")])]),a._v(" "),t("tr",[t("td",[a._v("-o")]),a._v(" "),t("td",[a._v("网卡名称 匹配从这块网卡流出的数据")])]),a._v(" "),t("tr",[t("td",[a._v("-p")]),a._v(" "),t("td",[a._v("匹配协议,如 tcp,udp,icmp")])]),a._v(" "),t("tr",[t("td",[a._v("--dport num")]),a._v(" "),t("td",[a._v("匹配目标端口号")])]),a._v(" "),t("tr",[t("td",[a._v("--sport num")]),a._v(" "),t("td",[a._v("匹配来源端口号")])])])]),a._v(" "),t("p",[a._v("顺序：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("iptables -t 表名 <-A/I/D/R> 规则链名 [规则号] <-i/o 网卡名> -p 协议名 <-s 源IP/源子网> --sport 源端口 <-d 目标IP/目标子网> --dport 目标端口 -j 动作\n")])])]),t("h2",{attrs:{id:"_4-iptables-示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-iptables-示例"}},[a._v("#")]),a._v(" 4. iptables 示例")]),a._v(" "),t("h3",{attrs:{id:"_4-1-清空当前的所有规则和计数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-清空当前的所有规则和计数"}},[a._v("#")]),a._v(" 4.1. 清空当前的所有规则和计数")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清空所有的防火墙规则")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除用户自定义的空链")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Z")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清空计数")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-2-配置允许-ssh-端口连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-配置允许-ssh-端口连接"}},[a._v("#")]),a._v(" 4.2. 配置允许 ssh 端口连接")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.0/24 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 22为你的ssh端口， -s 192.168.1.0/24表示允许这个网段的机器来连接，其它网段的ip地址是登陆不了你的机器的。 -j ACCEPT表示接受这样的请求")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-3-允许本地回环地址可以正常使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-允许本地回环地址可以正常使用"}},[a._v("#")]),a._v(" 4.3. 允许本地回环地址可以正常使用")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" lo "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#本地圆环地址就是那个127.0.0.1，是本机上使用的,它进与出都设置为允许")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" OUTPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" lo "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT\n")])])]),t("h3",{attrs:{id:"_4-4-设置默认的规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-设置默认的规则"}},[a._v("#")]),a._v(" 4.4. 设置默认的规则")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-P")]),a._v(" INPUT DROP "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 配置默认的不让进")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-P")]),a._v(" FORWARD DROP "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 默认的不允许转发")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-P")]),a._v(" OUTPUT ACCEPT "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 默认的可以出去")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-5-配置白名单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-配置白名单"}},[a._v("#")]),a._v(" 4.5. 配置白名单")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" all "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.0/24 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 允许机房内网机器可以访问")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" all "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".140.0/24 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 允许机房内网机器可以访问")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("183.121")]),a._v(".3.7 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3380")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 允许183.121.3.7访问本机的3380端口")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-6-开启相应的服务端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-开启相应的服务端口"}},[a._v("#")]),a._v(" 4.6. 开启相应的服务端口")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开启80端口，因为web对外都是这个端口")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" icmp --icmp-type "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 允许被ping")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" state "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--state")]),a._v(" ESTABLISHED,RELATED "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 已经建立的连接得让它进来")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-7-保存规则到配置文件中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-保存规则到配置文件中"}},[a._v("#")]),a._v(" 4.7. 保存规则到配置文件中")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /etc/sysconfig/iptables /etc/sysconfig/iptables.bak "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 任何改动之前先备份，请保持这一优秀的习惯")]),a._v("\niptables-save "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /etc/sysconfig/iptables\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/sysconfig/iptables\n")])])]),t("h3",{attrs:{id:"_4-8-列出已设置的规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-列出已设置的规则"}},[a._v("#")]),a._v(" 4.8. 列出已设置的规则")]),a._v(" "),t("blockquote",[t("p",[a._v("iptables -L [-t 表名][链名]")])]),a._v(" "),t("ul",[t("li",[a._v("四个表名 "),t("code",[a._v("raw")]),a._v("，"),t("code",[a._v("nat")]),a._v("，"),t("code",[a._v("filter")]),a._v("，"),t("code",[a._v("mangle")])]),a._v(" "),t("li",[a._v("五个规则链名 "),t("code",[a._v("INPUT")]),a._v("、"),t("code",[a._v("OUTPUT")]),a._v("、"),t("code",[a._v("FORWARD")]),a._v("、"),t("code",[a._v("PREROUTING")]),a._v("、"),t("code",[a._v("POSTROUTING")])]),a._v(" "),t("li",[a._v("filter 表包含"),t("code",[a._v("INPUT")]),a._v("、"),t("code",[a._v("OUTPUT")]),a._v("、"),t("code",[a._v("FORWARD")]),a._v("三个规则链")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nat                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 列出 nat 上面的所有规则")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#            ^ -t 参数指定，必须是 raw， nat，filter，mangle 中的一个")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nat  --line-numbers  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 规则带编号")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" INPUT\n\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-nv")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看，这个列表看起来更详细")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-9-清除已有规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-清除已有规则"}},[a._v("#")]),a._v(" 4.9. 清除已有规则")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" INPUT  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清空指定链 INPUT 上面的所有规则")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" INPUT  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除指定的链，这个链必须没有被其它任何规则引用，而且这条上必须没有任何规则。")]),a._v("\n                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果没有指定链名，则会删除该表中所有非内置的链。")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Z")]),a._v(" INPUT  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 把指定链，或者表中的所有链上的所有计数器清零。")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-10-删除已添加的规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-删除已添加的规则"}},[a._v("#")]),a._v(" 4.10. 删除已添加的规则")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加一条规则")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.5 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\n")])])]),t("p",[a._v("将所有 iptables 以序号标记显示，执行：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" --line-numbers\n")])])]),t("p",[a._v("比如要删除 INPUT 里序号为 8 的规则，执行：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-D")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-11-开放指定的端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-11-开放指定的端口"}},[a._v("#")]),a._v(" 4.11. 开放指定的端口")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT               "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#允许本地回环接口(即运行本机访问本机)")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" state "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--state")]),a._v(" ESTABLISHED,RELATED "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#允许已建立的或相关连的通行")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" OUTPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT         "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#允许所有本机向外的访问")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#允许访问22端口")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#允许访问80端口")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#允许ftp服务的21端口")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#允许FTP服务的20端口")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" reject       "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#禁止其他未允许的规则访问")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" FORWARD "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" REJECT     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#禁止其他未允许的规则访问")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-12-屏蔽-ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-12-屏蔽-ip"}},[a._v("#")]),a._v(" 4.12. 屏蔽 IP")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.8 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 屏蔽恶意主机（比如，192.168.0.8")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("123.45")]),a._v(".6.7 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP       "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#屏蔽单个IP的命令")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("123.0")]),a._v(".0.0/8 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP      "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#封整个段即从123.0.0.1到123.255.255.254的命令")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("124.45")]),a._v(".0.0/16 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#封IP段即从123.45.0.1到123.45.255.254的命令")]),a._v("\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("123.45")]),a._v(".6.0/24 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#封IP段即从123.45.6.1到123.45.6.254的命令是")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-13-指定数据包出去的网络接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-13-指定数据包出去的网络接口"}},[a._v("#")]),a._v(" 4.13. 指定数据包出去的网络接口")]),a._v(" "),t("p",[a._v("只对 OUTPUT，FORWARD，POSTROUTING 三个链起作用。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" FORWARD "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" eth0\n")])])]),t("h3",{attrs:{id:"_4-14-查看已添加的规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-14-查看已添加的规则"}},[a._v("#")]),a._v(" 4.14. 查看已添加的规则")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v("\nChain INPUT "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("policy DROP "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("48106")]),a._v(" packets, 2690K bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n pkts bytes target     prot opt "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v("     out     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v("               destination\n "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5075")]),a._v("  589K ACCEPT     all  --  lo     *       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0            "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0\n 191K   90M ACCEPT     tcp  --  *      *       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0            "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0           tcp dpt:22\n1499K  133M ACCEPT     tcp  --  *      *       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0            "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0           tcp dpt:80\n4364K 6351M ACCEPT     all  --  *      *       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0            "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0           state RELATED,ESTABLISHED\n "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6256")]),a._v("  327K ACCEPT     icmp --  *      *       "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0            "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0\n\nChain FORWARD "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("policy ACCEPT "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" packets, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n pkts bytes target     prot opt "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v("     out     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v("               destination\n\nChain OUTPUT "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("policy ACCEPT 3382K packets, 1819M bytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n pkts bytes target     prot opt "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v("     out     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v("               destination\n "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5075")]),a._v("  589K ACCEPT     all  --  *      lo      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0            "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0\n")])])]),t("h3",{attrs:{id:"_4-15-启动网络转发规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-15-启动网络转发规则"}},[a._v("#")]),a._v(" 4.15. 启动网络转发规则")]),a._v(" "),t("p",[a._v("公网"),t("code",[a._v("210.14.67.7")]),a._v("让内网"),t("code",[a._v("192.168.188.0/24")]),a._v("上网")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" POSTROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".188.0/24 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" SNAT --to-source "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("210.14")]),a._v(".67.127\n")])])]),t("h3",{attrs:{id:"_4-16-端口映射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-16-端口映射"}},[a._v("#")]),a._v(" 4.16. 端口映射")]),a._v(" "),t("p",[a._v("本机的 2222 端口映射到内网 虚拟机的 22 端口")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" PREROUTING "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("210.14")]),a._v(".67.127 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2222")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DNAT --to-dest "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".188.115:22\n")])])]),t("h3",{attrs:{id:"_4-17-字符串匹配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-17-字符串匹配"}},[a._v("#")]),a._v(" 4.17. 字符串匹配")]),a._v(" "),t("p",[a._v("比如，我们要过滤所有 TCP 连接中的字符串"),t("code",[a._v("test")]),a._v("，一旦出现它我们就终止这个连接，我们可以这么做：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" string "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--algo")]),a._v(" kmp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--string")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"test"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" REJECT --reject-with tcp-reset\niptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Chain INPUT (policy ACCEPT)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# target     prot opt source               destination")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# REJECT     tcp  --  anywhere             anywhere            STRING match "test" ALGO name kmp TO 65535 reject-with tcp-reset')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Chain FORWARD (policy ACCEPT)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# target     prot opt source               destination")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Chain OUTPUT (policy ACCEPT)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# target     prot opt source               destination")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-18-阻止-windows-蠕虫的攻击"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-18-阻止-windows-蠕虫的攻击"}},[a._v("#")]),a._v(" 4.18. 阻止 Windows 蠕虫的攻击")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0/0 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" string "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--algo")]),a._v(" kmp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--string")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"cmd.exe"')]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-19-防止-syn-洪水攻击"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-19-防止-syn-洪水攻击"}},[a._v("#")]),a._v(" 4.19. 防止 SYN 洪水攻击")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("iptables "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" INPUT "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" tcp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--syn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" limit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--limit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("/second "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" ACCEPT\n")])])]),t("h2",{attrs:{id:"_5-参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-参考资料"}},[a._v("#")]),a._v(" 5. 参考资料")]),a._v(" "),t("ul",[t("li",[a._v("https://wiki.archlinux.org/index.php/iptables_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)")]),a._v(" "),t("li",[a._v("https://wangchujiang.com/linux-command/c/iptables.html")])])])}),[],!1,null,null,null);t.default=r.exports}}]);
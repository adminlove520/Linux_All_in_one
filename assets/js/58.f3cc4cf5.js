(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{405:function(a,t,e){"use strict";e.r(t);var s=e(9),r=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"linux-软件管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-软件管理"}},[a._v("#")]),a._v(" Linux 软件管理")]),a._v(" "),t("blockquote",[t("p",[a._v("关键词："),t("code",[a._v("rpm")]),a._v(", "),t("code",[a._v("yum")]),a._v(", "),t("code",[a._v("apt-get")])])]),a._v(" "),t("h2",{attrs:{id:"_1-rpm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-rpm"}},[a._v("#")]),a._v(" 1. rpm")]),a._v(" "),t("blockquote",[t("p",[a._v("rpm 命令是 RPM 软件包的管理工具。rpm 原本是 Red Hat Linux 发行版专门用来管理 Linux 各项套件的程序，由于它遵循 GPL 规则且功能强大方便，因而广受欢迎。逐渐受到其他发行版的采用。RPM 套件管理方式的出现，让 Linux 易于安装，升级，间接提升了 Linux 的适用度。")]),a._v(" "),t("p",[a._v("参考：http://man.linuxde.net/rpm")])]),a._v(" "),t("p",[a._v("示例：")]),a._v(" "),t("p",[a._v("（1）安装 rpm 包")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -ivh xxx.rpm\n")])])]),t("p",[a._v("（2）安装.src.rpm 软件包")]),a._v(" "),t("p",[a._v("这类软件包是包含了源代码的 rpm 包，在安装时需要进行编译")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" xxx.src.rpm\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/src/redhat/SPECS\nrpmbuild "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-bp")]),a._v(" xxx.specs             "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#一个和你的软件包同名的specs文件")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/src/redhat/BUILD/xxx/      "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#一个和你的软件包同名的目录")]),a._v("\n./configure                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这一步和编译普通的源码软件一样，可以加上参数")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),t("p",[a._v("（3）卸载 rpm 软件包")]),a._v(" "),t("p",[a._v("使用命令 "),t("code",[a._v("rpm -e 包名")]),a._v("，包名可以包含版本号等信息，但是不可以有后缀.rpm，比如卸载软件包 proftpd-1.2.8-1，可以使用下列格式：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd-1.2.8-1\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd-1.2.8\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd-\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd\n")])])]),t("p",[a._v("不可以是下列格式：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd-1.2.8-1.i386.rpm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd-1.2.8-1.i386\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd-1.2\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" proftpd-1\n")])])]),t("p",[a._v("有时会出现一些错误或者警告：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("... is needed by ...\n")])])]),t("p",[a._v("这说明这个软件被其他软件需要，不能随便卸载，可以用 rpm -e --nodeps 强制卸载")]),a._v(" "),t("p",[a._v("（4）查看与 rpm 包相关的文件和其他信息")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-qa")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 列出所有安装过的包")]),a._v("\n")])])]),t("h2",{attrs:{id:"_2-yum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-yum"}},[a._v("#")]),a._v(" 2. yum")]),a._v(" "),t("blockquote",[t("p",[a._v("yum 命令是在 Fedora 和 RedHat 以及 SUSE 中基于 rpm 的软件包管理器，它可以使系统管理人员交互和自动化地更细与管理 RPM 软件包，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。")]),a._v(" "),t("p",[a._v("参考：http://man.linuxde.net/yum")])]),a._v(" "),t("p",[a._v("示例：")]),a._v(" "),t("p",[a._v("部分常用的命令包括：")]),a._v(" "),t("ul",[t("li",[a._v("自动搜索最快镜像插件："),t("code",[a._v("yum install yum-fastestmirror")])]),a._v(" "),t("li",[a._v("安装 yum 图形窗口插件："),t("code",[a._v("yum install yumex")])]),a._v(" "),t("li",[a._v("查看可能批量安装的列表："),t("code",[a._v("yum grouplist")])])]),a._v(" "),t("p",[t("strong",[a._v("安装")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum install              #全部安装\nyum install package1     #安装指定的安装包package1\nyum groupinsall group1   #安装程序组group1\n")])])]),t("p",[t("strong",[a._v("更新和升级")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum update               #全部更新\nyum update package1      #更新指定程序包package1\nyum check-update         #检查可更新的程序\nyum upgrade package1     #升级指定程序包package1\nyum groupupdate group1   #升级程序组group1\n")])])]),t("p",[t("strong",[a._v("查找和显示")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum info package1      #显示安装包信息package1\nyum list               #显示所有已经安装和可以安装的程序包\nyum list package1      #显示指定程序包安装情况package1\nyum groupinfo group1   #显示程序组group1信息yum search string 根据关键字string查找安装包\nyum search <keyword>   #查找软件包\n")])])]),t("p",[t("strong",[a._v("删除程序")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum remove <package_name>          #删除程序包package_name\nyum groupremove group1             #删除程序组group1\nyum deplist package1               #查看程序package1依赖情况\n")])])]),t("p",[t("strong",[a._v("清除缓存")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum clean packages       #清除缓存目录下的软件包\nyum clean headers        #清除缓存目录下的 headers\nyum clean oldheaders     #清除缓存目录下旧的 headers\n")])])]),t("h3",{attrs:{id:"_2-1-yum-源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-yum-源"}},[a._v("#")]),a._v(" 2.1. yum 源")]),a._v(" "),t("p",[a._v("yum 的默认源是国外的，下载速度比较慢，所以最好替换为一个国内的 yum 源。")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("推荐 yum 国内源")]),a._v(" "),t("th",[a._v("源地址")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[t("a",{attrs:{href:"http://mirrors.163.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://mirrors.163.com/"),t("OutboundLink")],1)]),a._v(" "),t("td",[a._v("Centos6：http://mirrors.aliyun.com/repo/Centos-6.repo"),t("br"),a._v("Centos7：http://mirrors.aliyun.com/repo/Centos-7.repo")])]),a._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"http://mirrors.aliyun.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://mirrors.aliyun.com/"),t("OutboundLink")],1)]),a._v(" "),t("td",[a._v("Centos6：http://mirrors.163.com/.help/CentOS6-Base-163.repo"),t("br"),a._v("Centos7：http://mirrors.163.com/.help/CentOS7-Base-163.repo")])])])]),a._v(" "),t("blockquote",[t("p",[a._v("🔔 注意：Cento5 已废弃，只能使用 http://vault.centos.org/ 替换，但由于是国外镜像，速度较慢。")])]),a._v(" "),t("p",[a._v("替换方法，以 aliyun CentOS7 为例：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\nyum clean all\nyum makecache\n")])])]),t("h2",{attrs:{id:"_3-apt-get"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-apt-get"}},[a._v("#")]),a._v(" 3. apt-get")]),a._v(" "),t("blockquote",[t("p",[a._v("apt-get 命令是 Debian Linux 发行版中的 APT 软件包管理工具。所有基于 Debian 的发行都使用这个包管理系统。deb 包可以把一个应用的文件包在一起，大体就如同 Windows 上的安装文件。")]),a._v(" "),t("p",[a._v("参考：http://man.linuxde.net/apt-get")])]),a._v(" "),t("p",[a._v("示例：")]),a._v(" "),t("p",[a._v("使用 apt-get 命令的第一步就是引入必需的软件库，Debian 的软件库也就是所有 Debian 软件包的集合，它们存在互联网上的一些公共站点上。把它们的地址加入，apt-get 就能搜索到我们想要的软件。/etc/apt/sources.list 是存放这些地址列表的配置文件，其格式如下：")]),a._v(" "),t("p",[a._v("deb [web 或 ftp 地址][发行版名字] [main/contrib/non-free]\n我们常用的 Ubuntu 就是一个基于 Debian 的发行，我们使用 apt-get 命令获取这个列表，以下是我整理的常用命令：")]),a._v(" "),t("p",[a._v("在修改 /etc/apt/sources.list 或者 /etc/apt/preferences 之后运行该命令。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新 apt-get")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 安装一个软件包")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" packagename\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 卸载一个已安装的软件包（保留配置文件）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" remove packagename\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 卸载一个已安装的软件包（删除配置文件）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" –purge remove packagename\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果需要空间的话，可以让这个命令来删除你已经删掉的软件")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" autoclean "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 把安装的软件的备份也删除，不过这样不会影响软件的使用的")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" clean\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新所有已安装的软件包")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" upgrade\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将系统升级到新版本")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" dist-upgrade\n")])])]),t("h2",{attrs:{id:"_4-参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-参考资料"}},[a._v("#")]),a._v(" 4. 参考资料")]),a._v(" "),t("ul",[t("li",[a._v("http://man.linuxde.net/rpm")]),a._v(" "),t("li",[a._v("http://man.linuxde.net/yum")]),a._v(" "),t("li",[a._v("http://man.linuxde.net/apt-get")]),a._v(" "),t("li",[a._v("http://www.runoob.com/linux/linux-yum.html")])])])}),[],!1,null,null,null);t.default=r.exports}}]);